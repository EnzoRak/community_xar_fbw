base: lua53 # Lua 5.3 is embedded
structs:
  Vector:
    x:
      property: full-write
    y:
      property: full-write
    z:
      property: full-write
globals:
  p: # to silence unknown global warnings
    property: full-write
  # game API
  ga_get_b:
    args:
      - type: string
  ga_get_i:
    args:
      - type: string
  ga_get_f:
    args:
      - type: string
  ga_get_s:
    args:
      - type: string
  ga_get_v:
    args:
      - type: string
  ga_get_game_time:
    args: []
  ga_set_b:
    args:
      - type: string
      - type: bool
  ga_set_i:
    args:
      - type: string
      - type: number
  ga_set_f:
    args:
      - type: string
      - type: number
  ga_set_s:
    args:
      - type: string
      - type: string
  ga_set_v:
    args:
      - type: string
      - type:
          display: Vector
  ga_toggle_b:
    args:
      - type: string
  ga_get_sys_b:
    args:
      - type: string
  ga_get_sys_i:
    args:
      - type: string
  ga_get_sys_s:
    args:
      - type: string
  ga_get_sys_f:
    args:
      - type: string
  ga_get_sys_v:
    args:
      - type: string
  ga_console_print:
    args:
      - type: string
  ga_command:
    args:
      - type: string
  ga_window_push:
    args:
      - type: string
  ga_is_cheating_enabled:
    args: []
  ga_get_viewer_offset:
    args: []
  ga_get_viewer_level:
    args: []
  ga_get_viewer_chunk_id:
    args: []
  ga_get_viewer_path:
    args: []
  ga_chunk_id_to_level:
    args:
      - type: number
  ga_play_playlist:
    args:
      - type: string
  ga_play_sound:
    args:
      - type: string
  ga_play_sound_menu:
    args:
      - type: string
  ga_hud_window_add:
    args:
      - type: string
      - type: number
  ga_hud_window_remove:
    args:
      - type: string
  ga_player_model_q2md2_set_cmd:
    args:
      - type: string
  ga_player_model_set_look:
    args: []
  ga_player_model_q2md2_set_state:
    args:
      - type: string
  ga_print:
    args:
      - type: string
  ga_main_menu_pop:
    args: []
  ga_main_menu_pop_all:
    args:
      - type: bool
  ga_kill_player:
    args: []
  ga_bt_get_physically_solid:
    args:
      - type: string
  ga_exit:
    args: []
  # random API
  ga_srand:
    args:
      - type: number
  ga_randi:
    args:
      - type: number
      - type: number
  ga_randf:
    args: []
  # move API
  ga_move_set_body_ground:
    args:
      - type: {display: Vector}
      - type: number
      - type: number
      - type: number
  ga_move_set_body_fly:
    args:
      - type: {display: Vector}
      - type: number
      - type: bool
  ga_move_set_desired_travel:
    args:
      - type: {display: Vector}
  ga_move_set_ledge_guards:
    args:
      - type: bool
  # game block API
  ga_block_change_rl:
    args:
      - type: number
      - type: {display: Vector}
      - type: string
      - type: number
  ga_block_change_perm:
    args:
      - type: number
      - type: {display: Vector}
      - type: string
  ga_block_get:
    args:
      - type: number
      - type: {display: Vector}
  ga_block_get_s:
    args:
      - type: number
      - type: {display: Vector}
      - type: string
  ga_block_get_f:
    args:
      - type: number
      - type: {display: Vector}
      - type: string
  ga_block_set_s:
    args:
      - type: number
      - type: {display: Vector}
      - type: string
      - type: string
  ga_block_set_f:
    args:
      - type: number
      - type: {display: Vector}
      - type: string
      - type: number
  # game ment API
  ga_ment_start:
    args:
      - type: number
      - type: {display: Vector}
      - type: string
  ga_ment_init_set_s:
    args:
      - type: string
      - type: string
  ga_ment_init_set_i:
    args:
      - type: string
      - type: number
  ga_ment_init_set_f:
    args:
      - type: string
      - type: number
  ga_ment_init_set_v:
    args:
      - type: string
      - type: {display: Vector}
  ga_ment_end:
    args: []
  ga_ment_get_f:
    args:
      - type: number
      - type: string
  ga_ment_get_i:
    args:
      - type: number
      - type: string
  ga_ment_get_v:
    args:
      - type: number
      - type: string
  ga_ment_get_s:
    args:
      - type: number
      - type: string
  ga_ment_set_f:
    args:
      - type: number
      - type: string
      - type: number
  ga_ment_set_v:
    args:
      - type: number
      - type: string
      - type: {display: Vector}
  ga_ment_get_var_special_dist_to_viewer: # what a long name
    args:
      - type: number
  ga_ment_get_level:
    args:
      - type: number
  ga_ment_get_lp:
    args:
      - type: number
  ga_ment_remove:
    args:
      - type: number
  # render API
  ga_render_color:
    args:
      - type: {display: Vector}
  ga_render_line:
    args:
      - type: {display: Vector}
      - type: {display: Vector}
  ga_render_triangle:
    args:
      - type: {display: Vector}
      - type: {display: Vector}
      - type: {display: Vector}
      - type: number
      - type: number
      - type: number
      - type: number
      - type: number
      - type: number
      - type: string
  ga_render_push_matrix:
    args: []
  ga_render_matrix_translated:
    args:
      - type: number
      - type: number
      - type: number
  ga_render_matrix_frame:
    args:
      - type: {display: Vector}
      - type: {display: Vector}
      - type: {display: Vector}
  ga_render_matrix_rotated:
    args:
      - type: number
      - type: {display: Vector}
  ga_render_matrix_scaled:
    args:
      - type: number
      - type: number
      - type: number
  ga_render_mesh:
    args:
      - type: string
  ga_render_mesh_with_tex:
    args:
      - type: string
      - type: string
  ga_render_pop_matrix:
    args: []
  # look API
  ga_look_object_block_get_chunk_id:
    args: []
  ga_look_object_block_get_lbp:
    args: []
  # window API
  ga_win_quad_color:
    args:
      - type: number
      - type: number
      - type: number
      - type: number
      - type: number
      - type: {display: Vector}
  ga_win_get_cursor_pos:
    args:
      - type: number
  ga_win_quad:
    args:
      - type: number
      - type: number
      - type: number
      - type: number
      - type: number
      - type: string
  ga_win_txt:
    args:
      - type: number
      - type: number
      - type: number
      - type: string
  ga_win_txt_center_at_bg:
    args:
      - type: number
      - type: number
      - type: number
      - type: string
  ga_win_mouse_pressed:
    args:
      - type: number
      - type: bool
  ga_win_key_pressed:
    args:
      - type: number
      - type: string # TODO make this a list of valid keys
  ga_win_mouse_wheel_up:
    args:
      - type: number
  ga_win_mouse_wheel_down:
    args:
      - type: number
  ga_win_key_down: # doesnt need wid!
    args:
      - type: string # TODO make this a list of valid keys
  ga_win_set_char_size:
    args:
      - type: number
      - type: number
      - type: number
  ga_win_set_back_params:
    args:
      - type: number
      - type: {display: Vector}
      - type: number
      - type: number
  ga_win_txt_center:
    args:
      - type: number
      - type: number
      - type: string
  ga_win_txt_alpha_bg:
    args:
      - type: number
      - type: number
      - type: number
      - type: number
      - type: string
  ga_win_quad_color_alpha:
    args:
      - type: number
      - type: number
      - type: number
      - type: number
      - type: number
      - type: {display: Vector}
      - type: number
  ga_win_set_front_color:
    args:
      - type: number
      - type: {display: Vector}
  ga_win_line:
    args:
      - type: number
      - type: number
      - type: number
      - type: number
      - type: number
      - type: {display: Vector}
  ga_win_set_background:
    args:
      - type: number
      - type: {display: Vector}
      - type: number
  ga_window_push:
    args:
      - type: string
  ga_window_pop:
    args: []
  # globals from base
  std.vec:
    args:
      - type: number
      - type: number
      - type: number
  std.vec_zero:
    args: []
  std.vec_scale:
    args:
      - type: {display: Vector}
      - type: number
  std.normalize:
    args:
      - type: {display: Vector}
  std.vec_add:
    args:
      - type: {display: Vector}
      - type: {display: Vector}
  std.get_adj_bp:
    args:
      - type: {display: Vector}
      - type: number
  std.vec_to_bp:
    args:
      - type: {display: Vector}
    deprecated:
      message: use std.lp_to_bp
      replace:
        - "std.lp_to_bp(%1)"
  std.lp_to_bp:
    args:
      - type: {display: Vector}
  std.bp:
    args:
      - type: number
      - type: number
      - type: number
  std.vec_to_str:
    args:
      - type: {display: Vector}
  std.bp_eq:
    args:
      - type: {display: Vector}
      - type: {display: Vector}
  std.chunk_id_and_lbp_to_bp:
    args:
      - type: number
      - type: {display: Vector}
  std.length:
    args:
      - type: {display: Vector}
  std.vec_add_eq:
    args:
      - type: {display: Vector}
      - type: {display: Vector}
  std.vec_sub_eq:
    args:
      - type: {display: Vector}
      - type: {display: Vector}
  std.vec_scale_eq:
    args:
      - type: {display: Vector}
      - type: number
  std.dot:
    args:
      - type: {display: Vector}
      - type: {display: Vector}
  # initialization API
  ia_ment_set_builtin_var_b:
    args:
      - type: number
      - type: string
      - type: bool
  ia_ment_set_builtin_var_i:
    args:
      - type: number
      - type: string
      - type: number
  ia_ment_set_builtin_var_f:
    args:
      - type: number
      - type: string
      - type: number
  ia_ment_set_builtin_var_s:
    args:
      - type: number
      - type: string
      - type: string
  ia_ment_new_var_s:
    args:
        - type: number
        - type: string
        - type: string
        - type: number
  ia_ment_new_var_i:
    args:
        - type: number
        - type: string
        - type: number
        - type: number
  ia_ment_new_var_f:
    args:
        - type: number
        - type: string
        - type: number
        - type: number
  ia_ment_new_var_v:
    args:
        - type: number
        - type: string
        - type: {display: Vector}
        - type: number
  ia_ment_new_static_var_b:
    args:
      - type: number
      - type: string
      - type: bool
  ia_block_new_var_i:
    args:
      - type: number
      - type: string
      - type: number
  ia_block_new_var_s:
    args:
      - type: number
      - type: string
      - type: string
  ia_block_new_var_f:
    args:
      - type: number
      - type: string
      - type: number
  # block expansion API
  set_default_block:
    args:
      - type: string
  create_rect:
    args:
      - type: string
      - type: number
      - type: number
      - type: number
      - type: number
      - type: number
      - type: number
  get_input_path:
    args: []
  get_level:
    args: []
  set_pos:
    args:
      - type: number
      - type: number
      - type: number
      - type: string
