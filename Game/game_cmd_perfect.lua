--This is called by the engine when the game is loaded.
function p.__load_game()
    local cmd_name = "perfect"
    game_command_system.add_command(cmd_name, p.handler)
    game_command_system.add_help(cmd_name, p.get_help_str())
end


function p.handler(str)
    local everything = {"st_bur_green_apple_club_hell","st_bur_tower","st_hell_credits_inf2_story","st_hell_moon_flower","st_hell_secret_wolf_forest","st_i1_botany_caves_red_cube","st_i1_bristol_maze_start","st_i1_inf_flower_secret_entrance","st_i1_lib_vault","st_i1_williston_building_top","st_i1_williston_pyramid_secret","st_i2_bubble_cave_core","st_i2_damp_basement","st_i2_damp_cellar","st_i2_earthy_basement","st_i2_earthy_cellar","st_i2_emp_city","st_i2_fanatic_blue","st_i2_fanatic_island_secret","st_i2_fanatic_island_well_secret","st_i2_i2vb_lbv","st_i2_i2vb_toronto","st_i2_i2vb_yellow","st_i2_lib_vault","st_i2_mini_ammo_purple_pod","st_i2_moldy_basement","st_i2_small_blue_flower_quaternary","st_i2_spruce_tree","st_i2_toronto_maze_secret_1","st_i2_toronto_maze_secret_2","st_i2_toronto_maze_secret_3","st_i2_violets_secret_1","st_i2_violets_secret_2","st_i2_violets_secret_3","st_i2_wig_prison_2","st_i2_woody_basement","st_i2_woody_cellar","st_i3_beets_above","st_i3_carrots","st_i3_colchester_secret","st_i3_desert_flower_cloud","st_i3_essex","st_i3_forest_museum","st_i3_grow_temple","st_i3_mahogany_basement","st_i3_mahogany_cellar","st_i3_mahogany_inside","st_i3_pumpkin","st_i3_root_veg_basement","st_i3_treetop","st_i3_turnips","st_mid_basic_laser_maze","st_mid_blackberry_big_room","st_mid_blackberry_secret_wp","st_mid_camels_hump","st_mid_catacombs_secret","st_mid_jericho_secret","st_mid_laser_fort_small","st_mid_laser_fort_small_secret","st_mid_mossy_basement","st_mid_mossy_cellar","st_mid_oak_tree_dungeon_1","st_mid_oak_tree_dungeon_2","st_mid_orange_outer_mantle","st_mid_richmond_building_secret","st_mid_richmond_building_top","st_mid_richmond_lib_secret","st_mid_stoney_air_totem_secret","st_mid_stoney_air_yellow_cube_island_1","st_mid_stoney_air_yellow_cube_island_2","st_mid_stoney_church_blackberry","st_mid_stoney_church_column","st_mid_stoney_church_lib_yellow_guard","st_mid_stoney_church_lib_yellow_key","st_mid_stoney_church_tower","st_mid_stoney_church_wig_explanation","st_mid_tweed_haunted","st_my_caves_lib_secret","st_my_city_hol","st_my_city_secret_nuke_room","st_my_jade_museum","st_my_under","st_nwp_cardboard_box","st_nwp_health_tower_secret","st_nwp_paper_box","st_nwp_quicksand_basement","st_nwp_quicksand_purple_house","st_nwp_red_rose","st_nwp_small_black_flower_bottom","st_nwp_small_white_flower_maze","st_nwp_steel_box","st_nwp_white_rose","st_nwp_wood_box","st_space_galaxy_flower_secret","st_space_grand_lockbox","st_space_high_gold_asteroid","st_space_lib_secret_1","st_space_lib_secret_2","st_space_root_pink_prison","st_space_root_secret","st_space_tau_caves_moon_secret","st_yw_air_red_cube","st_yw_emergency_wp","st_yw_imp_dungeon_above","st_yw_jumbo_large_cannon_pyramid","st_yw_lib_below","st_yw_noob_maze_large","st_yw_shell_green_island","st_yw_small_yellow_flower_blue","st_yw_small_yellow_flower_dungeon","st_yw_spider_air","st_yw_tutorial_dragon","st_yw_tutorial_pink_rings","st_yw_tutorial_yellow_key","st_yw_unremembered_tower_1","st_yw_unremembered_tower_2","trophy_aladdin_cave","trophy_alpha_cube","trophy_amethyst_maze","trophy_apple_tree","trophy_black_cube","trophy_black_hole_big","trophy_black_mushroom","trophy_blackberry","trophy_blue_bubble","trophy_blue_bubble_breach","trophy_blue_mushroom","trophy_botany_lab_1","trophy_botany_lab_2","trophy_botany_lab_3","trophy_botany_lab_4","trophy_botany_lab_5","trophy_botany_lab_6","trophy_bristol","trophy_burlington","trophy_burlington_cols","trophy_cactus","trophy_catacombs","trophy_colchester","trophy_credits","trophy_creeping_jeni","trophy_danville","trophy_deep_sliver_maze","trophy_denver","trophy_desert_cave","trophy_desert_flower","trophy_edge_of_world","trophy_emerald","trophy_emp_castle","trophy_fanatic_spire","trophy_farmhouse","trophy_green_apple_club","trophy_health_tower","trophy_hell_flower","trophy_ice_castle","trophy_ice_cube","trophy_infinity_flower","trophy_inner_core","trophy_inner_tree","trophy_iolite","trophy_jackfruit","trophy_jericho","trophy_jumbo_yellow_flower","trophy_large_cannon_pyramid","trophy_large_white_flower","trophy_laser_genesis","trophy_library_i1","trophy_library_i2","trophy_library_i3","trophy_library_space","trophy_library_ying","trophy_lighthouse","trophy_montreal","trophy_moon_alpha","trophy_moon_beta","trophy_moon_fire_rate","trophy_moon_gamma","trophy_moon_ice","trophy_moon_tau","trophy_mylantis","trophy_mystic_vine","trophy_noob_flower","trophy_orange","trophy_planet_clay","trophy_planet_small_minigun","trophy_raspberry","trophy_red_maze_flower","trophy_red_mushroom","trophy_richmond","trophy_richmond_caves","trophy_richmond_sewers","trophy_river","trophy_salmon_mushroom","trophy_sapphire_maze","trophy_small_black_flower","trophy_small_blue_flower_1","trophy_small_blue_flower_2","trophy_small_cannon_pyramid","trophy_small_white_flower","trophy_small_yellow_flower","trophy_sponge_alpha","trophy_sponge_beta","trophy_sponge_pure","trophy_stoney_cave_1","trophy_stoney_cave_2","trophy_stoney_cave_3","trophy_stoney_church","trophy_sun","trophy_tangerine","trophy_tau_caves_map","trophy_tegan_garden","trophy_topaz","trophy_toronto","trophy_toronto_underground","trophy_tweed_cave","trophy_violets","trophy_weed_rings","trophy_wig_prison","trophy_williston","trophy_williston_caves","trophy_willow_tree","trophy_willow_tree_dark","trophy_yellow_mushroom","trophy_ying_exit_maze","trophy_ying_flower","trophy_ying_island_1","trophy_ying_island_2","trophy_ying_island_3","trophy_ying_island_4","trophy_ying_tower","trophy_zube_castle","won_game_agony","won_game_agony_hardcore","won_game_agony_pacifist","won_game_caustic_utopia","won_game_caustic_utopia_hardcore","won_game_caustic_utopia_pacifist","won_game_gateway","won_game_gateway_hardcore","won_game_gateway_pacifist","won_game_madness","won_game_madness_hardcore","won_game_madness_pacifist","won_game_normal","won_game_normal_hardcore","won_game_normal_pacifist","won_game_quagmire","won_game_quagmire_hardcore","won_game_quagmire_pacifist","won_game_tranquility","won_game_tranquility_hardcore","won_game_tranquility_pacifist"}
    for i = 1, #everything do
        ga_get_steam_achievement(everything[i])
    end
end

function p.get_help_str()
    return
           "Usage: perfect\n\n"
        .. "Gives the Steam User every achievement in the game"
end
